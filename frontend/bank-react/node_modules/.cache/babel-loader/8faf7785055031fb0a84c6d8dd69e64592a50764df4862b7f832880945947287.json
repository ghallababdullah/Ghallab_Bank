{"ast":null,"code":"import axios from \"axios\";\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8090\";\nconst api = axios.create({\n  baseURL: `${API_BASE_URL}/api`,\n  // Now uses environment variable\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add token to requests if available\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// api methods\nexport const apiService = {\n  saveAuthData: (token, roles) => {\n    localStorage.setItem('token', token);\n    localStorage.setItem('roles', JSON.stringify(roles));\n  },\n  logout: () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('roles');\n  },\n  hasRole(role) {\n    const roels = localStorage.getItem('roles');\n    return roels ? JSON.parse(roels).includes(role) : false;\n  },\n  isAuthenticated: () => {\n    return localStorage.getItem('token') !== null;\n  },\n  // Check if the user is an admin\n  isAdmin() {\n    return this.hasRole('ADMIN');\n  },\n  // Check if the user is an instructor\n  isCustomer() {\n    return this.hasRole('CUSTOMER');\n  },\n  // Check if the user is an Auditor\n  isAuditor() {\n    return this.hasRole('AUDITOR');\n  },\n  login: body => {\n    return api.post('/auth/login', body);\n  },\n  register: body => {\n    return api.post('/auth/register', body);\n  },\n  forgetPassword: body => {\n    return api.post('/auth/forgot-password', body);\n  },\n  resetPassword: body => {\n    return api.post('/auth/reset-password', body);\n  },\n  getMyProfile: () => {\n    return api.get('/users/me');\n  },\n  // Update password\n  updatePassword: (oldPassword, newPassword) => {\n    return api.put('/users/update-password', {\n      oldPassword,\n      newPassword\n    });\n  },\n  uploadProfilePicture: file => {\n    const formData = new FormData();\n    formData.append('file', file);\n    return api.put('/users/profile-picture', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  // ACCOUNT\n\n  getMyAccounts: () => {\n    return api.get(\"/accounts/me\");\n  },\n  // Make a transfer\n  makeTransfer: transferData => {\n    return api.post('/transactions', transferData);\n  },\n  makeDeposit: depositDate => {\n    return api.post('/transactions', depositDate);\n  },\n  // Get transactions for an account\n  getTransactions: (accountNumber, page = 0, size = 10) => {\n    return api.get(`/transactions/${accountNumber}?page=${page}&size=${size}`);\n  },\n  //AUDITOR\n  // Get system totals\n  getSystemTotals: () => {\n    return api.get('/audit/totals');\n  },\n  // Find user by email\n  findUserByEmail: email => {\n    return api.get(`/audit/users?email=${email}`);\n  },\n  // Find account by account number\n  findAccountByAccountNumber: accountNumber => {\n    return api.get(`/audit/accounts?accountNumber=${accountNumber}`);\n  },\n  // Get transactions by account number\n  getTransactionsByAccountNumber: accountNumber => {\n    return api.get(`/audit/transactions/by-account?accountNumber=${accountNumber}`);\n  },\n  // Get transaction by ID\n  getTransactionById: id => {\n    return api.get(`/audit/transactions/by-id?id=${id}`);\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","apiService","saveAuthData","roles","setItem","JSON","stringify","logout","removeItem","hasRole","role","roels","parse","includes","isAuthenticated","isAdmin","isCustomer","isAuditor","login","body","post","register","forgetPassword","resetPassword","getMyProfile","get","updatePassword","oldPassword","newPassword","put","uploadProfilePicture","file","formData","FormData","append","getMyAccounts","makeTransfer","transferData","makeDeposit","depositDate","getTransactions","accountNumber","page","size","getSystemTotals","findUserByEmail","email","findAccountByAccountNumber","getTransactionsByAccountNumber","getTransactionById","id"],"sources":["C:/Users/User/Desktop/Ghallab_Dev/Ghallab_Bank/frontend/bank-react/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\n\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8090\";\n\nconst api = axios.create({\n    baseURL: `${API_BASE_URL}/api`,  // Now uses environment variable\n    headers: {\n        'Content-Type': 'application/json'\n    },\n});\n\n// Add token to requests if available\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('token');\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error)\n    }\n);\n\n\n// api methods\nexport const apiService = {\n\n    saveAuthData: (token, roles) => {\n        localStorage.setItem('token', token)\n        localStorage.setItem('roles', JSON.stringify(roles))\n    },\n\n    logout: () => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('roles')\n    },\n\n    hasRole(role) {\n        const roels = localStorage.getItem('roles')\n        return roels ? JSON.parse(roels).includes(role) : false;\n    },\n\n    isAuthenticated: () => {\n        return localStorage.getItem('token') !== null;\n    },\n\n    // Check if the user is an admin\n    isAdmin() {\n        return this.hasRole('ADMIN');\n    },\n\n    // Check if the user is an instructor\n    isCustomer() {\n        return this.hasRole('CUSTOMER');\n    },\n\n    // Check if the user is an Auditor\n    isAuditor() {\n        return this.hasRole('AUDITOR');\n    },\n\n    login: (body) => {\n        return api.post('/auth/login', body);\n    },\n\n    register: (body) => {\n        return api.post('/auth/register', body);\n    },\n\n\n    forgetPassword: (body) => {\n        return api.post('/auth/forgot-password', body)\n    },\n\n    resetPassword: (body) => {\n        return api.post('/auth/reset-password', body)\n    },\n\n\n    getMyProfile: () => {\n        return api.get('/users/me');\n    },\n\n    // Update password\n    updatePassword: (oldPassword, newPassword) => {\n        return api.put('/users/update-password', {\n            oldPassword,\n            newPassword\n        });\n    },\n\n\n    uploadProfilePicture: (file) => {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        return api.put('/users/profile-picture', formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            }\n        });\n    },\n\n\n    // ACCOUNT\n\n    getMyAccounts: () => {\n        return api.get(\"/accounts/me\")\n    },\n\n    // Make a transfer\n    makeTransfer: (transferData) => {\n        return api.post('/transactions', transferData);\n    },\n\n    makeDeposit: (depositDate) => {\n        return api.post('/transactions', depositDate);\n    },\n\n\n    // Get transactions for an account\n    getTransactions: (accountNumber, page = 0, size = 10) => {\n        return api.get(`/transactions/${accountNumber}?page=${page}&size=${size}`);\n    },\n\n\n\n    //AUDITOR\n    // Get system totals\n    getSystemTotals: () => {\n        return api.get('/audit/totals');\n    },\n\n    // Find user by email\n    findUserByEmail: (email) => {\n        return api.get(`/audit/users?email=${email}`);\n    },\n\n    // Find account by account number\n    findAccountByAccountNumber: (accountNumber) => {\n        return api.get(`/audit/accounts?accountNumber=${accountNumber}`);\n    },\n\n    // Get transactions by account number\n    getTransactionsByAccountNumber: (accountNumber) => {\n        return api.get(`/audit/transactions/by-account?accountNumber=${accountNumber}`);\n    },\n\n    // Get transaction by ID\n    getTransactionById: (id) => {\n        return api.get(`/audit/transactions/by-id?id=${id}`);\n    }\n\n\n}\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}